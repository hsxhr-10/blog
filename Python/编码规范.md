# 编码规范

编码规范的重要性不言而喻，不敢想象一个多人参与的项目如果没有编码规范会变成怎么样。Python 中有不少编码规范，这里以官方的 PEP8 为准

## 尽信书不如无书

一味地按照规范可能并不一定对，有些时候，适当「违反一下」规范，可能会增加代码的可读性，譬如下面的案例：

- 严格按照 PEP8

```BASH
asd = 11212121
bbsad = 21212121212121212
cccdsfsdfdsfsdfsd = 312121
dddsadfasd = 41212121
eee = 52121212
ffdsfdsfsdfff = 621121212121212
gggggfdsfdsfdsfsdfsdfdsfsdfdsfg = 7212121
```

- 适当「违反」PEP8

```BASH
asd                             = 11212121
bbsad                           = 21212121212121212
cccdsfsdfdsfsdfsd               = 312121
dddsadfasd                      = 41212121
eee                             = 52121212
ffdsfdsfsdfff                   = 621121212121212
gggggfdsfdsfdsfsdfsdfdsfsdfdsfg = 7212121
```

为了体现效果，故意把命名弄乱点，显然，「违反」了规范的代码可读性反而更好。这里就要提到 IDE 的自动代码格式化功能了，可能刚开始用是挺爽的，
但是它是严格按照某一种编码规范去格式化的，这就不能像上面那样反规范，而且还很可能会把不用插件的人得代码给一块格式化了。所以用这些插件还是要看团队的情况，
很多开源项目是不允许使用这些插件的，个人也不推荐使用

这里要吐槽一下，在 PEP8 里面很多时候同一个场景有好几种规范 😂 ，有点太多了，感觉有两个选择就差不多了。所以下面会在推荐里面再标注个人感觉看起来最舒服的，会标注上「首选」

## 代码布局

### 缩进

#### (1) 函数定义和调用

- 推荐

```BASH
# 与左括号对齐（首选）
foo = long_function_name(var_one, var_two,
                         var_three, var_four)

# 挂行缩进应该再换一行
foo = long_function_name(
    var_one, var_two,
    var_three, var_four)

# 用更多的缩进来与其他行区分
def long_function_name(
        var_one, var_two, var_three,
        var_four):
    print(var_one)
```

- 不推荐

```BASH
# 没有使用垂直对齐时，禁止把参数放在第一行
foo = long_function_name(var_one, var_two,
    var_three, var_four)

# 当缩进没有与其他行区分时，要增加缩进
def long_function_name(
    var_one, var_two, var_three,
    var_four):
    print(var_one)
```

#### (2) if 语句

- 推荐

```BASH
# 没有额外的缩进（首选）
if (this_is_one_thing and
    that_is_another_thing):
    do_something()

# 增加一个注释，在能提供语法高亮的编辑器中可以有一些区分
if (this_is_one_thing and
    that_is_another_thing):
    # Since both conditions are true, we can frobnicate.
    do_something()

# 在条件判断的语句添加额外的缩进
if (this_is_one_thing
        and that_is_another_thing):
    do_something()
```

#### (3) 容器字面值

- 推荐

```BASH
#（首选）
my_list = [
    1, 2, 3,
    4, 5, 6,
]
result = some_function_that_takes_arguments(
    'a', 'b', 'c',
    'd', 'e', 'f',
)
  
my_list = [
    1, 2, 3,
    4, 5, 6,
    ]
result = some_function_that_takes_arguments(
    'a', 'b', 'c',
    'd', 'e', 'f',
    )
```

### 最大行长度

规范是 79 个字符，个人感觉可以适当增加，譬如 120 个

### 运算符和换行

- 推荐

```BASH
income = (gross_wages
          + taxable_interest
          + (dividends - qualified_dividends)
          - ira_deduction
          - student_loan_interest)
```

- 不推荐

```BASH
income = (gross_wages +
          taxable_interest +
          (dividends - qualified_dividends) -
          ira_deduction -
          student_loan_interest)
```

### 空行

- 函数、类这些组件的定义，用两个空行
- 类方法之间用一个空行
- 多用空行分割不同的逻辑段，增加可读性

### 源代码文件的编码

- 对于 Python2.x 最好在第一行声明 `coding=utf8`
- 对于 Python3.x 默认就是 UTF-8 编码

### import



## pylint

## 参考

- [官网 PEP8](https://www.python.org/dev/peps/pep-0008/#introduction)
